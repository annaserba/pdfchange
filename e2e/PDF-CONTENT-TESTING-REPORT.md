# üìÑ –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ PDF

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ PDF —Ñ–∞–π–ª–æ–≤

### üéØ **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 5
- **–£—Å–ø–µ—à–Ω—ã—Ö**: 1 (20%)
- **–ß–∞—Å—Ç–∏—á–Ω–æ —É—Å–ø–µ—à–Ω—ã—Ö**: 4 (80%)
- **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç—ã PDF —Ä–∞–±–æ—Ç–∞—é—Ç!

### üìã **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Ç–µ—Å—Ç–∞–º:**

#### ‚úÖ **–¢–µ—Å—Ç 1: –°–∫—Ä–∏–Ω—à–æ—Ç—ã PDF** - –£–°–ü–ï–®–ù–û
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ PDF
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ PDF  
- ‚úÖ HTML –æ—Ç—á–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ –†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ

#### ‚ö†Ô∏è **–¢–µ—Å—Ç—ã 2-5: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** - –ß–ê–°–¢–ò–ß–ù–û
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π pdf-parse
- ‚úÖ PDF —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå –¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîç **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ PDF**
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ HTML embed
   - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ PNG
   - –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤: ~7KB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
   - –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

2. **HTML –æ—Ç—á–µ—Ç—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è**
   - –ö—Ä–∞—Å–∏–≤—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
   - Side-by-side —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ PDF
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–∞–π–ª–æ–≤
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ—Å—Ç–∞–º–∏**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–ø–∫—É screenshots/
   - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å timestamp

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:**

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF**
   - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ pdf-parse –∏—â–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   - –û—à–∏–±–∫–∞: `ENOENT: no such file or directory, open './test/data/05-versions-space.pdf'`
   - –ù—É–∂–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

2. **–¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–æ–∏—Å–∫ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - –ü–æ–¥—Å—á–µ—Ç —Å–ª–æ–≤ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

## üìä **–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã PDF:
```
e2e/screenshots/
‚îú‚îÄ‚îÄ content-comparison-before-*.png    # –ò—Å—Ö–æ–¥–Ω—ã–π PDF (7KB)
‚îú‚îÄ‚îÄ content-comparison-after-*.png     # –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π PDF (7KB)  
‚îú‚îÄ‚îÄ content-comparison-report-*.html   # HTML –æ—Ç—á–µ—Ç (5KB)
‚îî‚îÄ‚îÄ [–¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Ñ–æ—Ä–º]           # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤–µ–±-—Ñ–æ—Ä–º—ã
```

### –ö–∞—á–µ—Å—Ç–≤–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤:
- **–§–æ—Ä–º–∞—Ç**: PNG
- **–†–∞–∑–º–µ—Ä**: 7,191 –±–∞–π—Ç (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: PDF –¥–æ–∫—É–º–µ–Ω—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

## üõ†Ô∏è **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

### –†–∞–±–æ—Ç–∞—é—â–∏–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤:
```typescript
// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ HTML embed
const htmlContent = `
  <div class="pdf-container">
    <embed src="data:application/pdf;base64,${pdfBase64}" type="application/pdf" />
  </div>
`;

await page.goto(`file://${tempHtmlPath}`);
await page.screenshot({ path: outputPath, fullPage: true });
```

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ (pdf-parse):
```typescript
// –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const pdfParse = await import('pdf-parse');
const data = await pdfParse.default(buffer);
```

## üöÄ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é:**

### 1. **–ó–∞–º–µ–Ω–∏—Ç—å pdf-parse –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
npm install pdf-extraction
# –∏–ª–∏
npm install @pdf-lib/fontkit pdfjs-dist
```

### 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PDF.js –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞**
```typescript
import * as pdfjsLib from 'pdfjs-dist';

const loadingTask = pdfjsLib.getDocument(pdfBytes);
const pdf = await loadingTask.promise;
const page = await pdf.getPage(1);
const textContent = await page.getTextContent();
const text = textContent.items.map(item => item.str).join(' ');
```

### 3. **–°–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä**
```typescript
// –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
const pdfString = buffer.toString('latin1');
const textMatches = pdfString.match(/\(([^)]+)\)/g) || [];
const text = textMatches.map(match => match.slice(1, -1)).join(' ');
```

## üìà **–¢–µ–∫—É—â–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**

### ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
1. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã PDF** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—Ç
2. **HTML –æ—Ç—á–µ—Ç—ã** - –∫—Ä–∞—Å–∏–≤—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Playwright
4. **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### üîß **–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**
1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** - –∑–∞–º–µ–Ω–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É
2. **–ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. **–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
4. **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

## üéØ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**

### –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —É–∂–µ —Å–µ–π—á–∞—Å:
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ PDF** - —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–æ/–ø–æ—Å–ª–µ
- ‚úÖ **–û—Ç—á–µ—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - HTML –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ß—Ç–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- üîß **–¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑** - –ø–æ–∏—Å–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º
- üîß **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üîß **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
- üîß **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ** - diff —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:**

**–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞** - —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ PDF —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:
- **–°–∫—Ä–∏–Ω—à–æ—Ç—ã PDF**: ‚úÖ 100% –≥–æ—Ç–æ–≤–æ
- **HTML –æ—Ç—á–µ—Ç—ã**: ‚úÖ 100% –≥–æ—Ç–æ–≤–æ  
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**: ‚ùå 0% (–Ω—É–∂–Ω–∞ –∑–∞–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
- **–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: üî∂ 60% (–æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PDF, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*
*–î–∞—Ç–∞: 25.09.2025*
*–í—Ä–µ–º—è: 23:06*
